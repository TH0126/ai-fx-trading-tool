# AI FX Trading Assistant - 要件定義書

## プロジェクト概要

### 基本情報
- **アプリケーション名**: AI FX Trading Assistant  
- **目的**: AIを活用してFXトレーダーの意思決定を支援し、勝率向上を実現
- **ターゲットユーザー**: 個人FXトレーダー（初心者〜上級者）
- **開発期間**: 4フェーズ構成での段階的開発

### プロジェクト目標
1. 初心者でも使いやすいインターフェース
2. 上級者の高度な分析ニーズに対応
3. リアルタイムでの高速データ処理
4. AI分析による客観的なトレード支援

## 必須機能

### 1. チャート・データ表示機能

#### 1.1 インタラクティブチャート
- **ローソク足チャート**: OHLC形式での価格表示
- **複数時間軸対応**: 1分足〜月足（1分、5分、15分、30分、1時間、4時間、日足、週足、月足）
- **通貨ペア対応**: 主要20ペア以上
  - メジャーペア: USD/JPY, EUR/USD, GBP/USD, USD/CHF, AUD/USD, USD/CAD
  - クロス円: EUR/JPY, GBP/JPY, AUD/JPY, NZD/JPY, CHF/JPY, CAD/JPY
  - その他: EUR/GBP, EUR/CHF, GBP/CHF, AUD/NZD など

#### 1.2 データ更新
- **リアルタイム更新**: WebSocket接続による即座の価格反映
- **データ遅延**: 1秒以内の更新保証
- **ヒストリカルデータ**: 過去5年分のデータ保持
- **データソース**: Alpha Vantage API、ForexAPI等の信頼性の高いプロバイダー

#### 1.3 チャート操作
- **ズーム・パン機能**: マウス・タッチ操作対応
- **十字線機能**: 価格・時間の詳細確認
- **期間選択**: 表示期間の柔軟な調整
- **設定保存**: ユーザー設定の永続化

### 2. テクニカル指標表示

#### 2.1 基本指標
- **移動平均線**: SMA（単純移動平均）、EMA（指数移動平均）
- **RSI**: 14期間を基本とした相対力指数
- **MACD**: 12-26-9設定でのMACDライン、シグナルライン、ヒストグラム
- **ボリンジャーバンド**: 20期間・2σ設定

#### 2.2 高度な指標
- **ストキャスティクス**: %K、%D線表示
- **ADX**: トレンドの強さ測定
- **フィボナッチリトレースメント**: 自動・手動描画
- **ピボットポイント**: 日次、週次、月次サポート・レジスタンス

#### 2.3 表示制御
- **指標のオン/オフ切り替え**: チェックボックスでの簡単切り替え
- **パラメータ調整**: 期間・閾値の自由設定
- **色・スタイル設定**: ユーザー好みでのカスタマイズ

### 3. AI分析機能

#### 3.1 パターン認識
- **チャートパターン自動検出**:
  - トレンドライン自動描画
  - ダブルトップ・ボトム認識
  - 三角持ち合い・フラッグパターン
  - ヘッドアンドショルダー
- **サポート・レジスタンスライン**: 過去データ基づく自動検出

#### 3.2 エントリーシグナル生成
- **買い/売りシグナル**: 複数指標の組み合わせ判定
- **シグナル強度**: 1-10のスコア表示
- **予想勝率**: 過去データ基づく成功確率計算
- **リスクリワード比**: エントリーポイントでの期待値計算

#### 3.3 AI分析アルゴリズム
- **機械学習モデル**: 
  - LSTM（長短期記憶）ネットワークによる価格予測
  - Random Forest による分類予測
  - Gradient Boosting での複合的判定
- **特徴量エンジニアリング**:
  - テクニカル指標の組み合わせ
  - 価格パターンの数値化
  - ボラティリティ指標
  - 市場センチメント指標

### 4. ファンダメンタル分析

#### 4.1 経済指標連携
- **経済カレンダー**: 重要指標発表予定表示
- **指標の重要度**: 3段階（高・中・低）での影響度表示
- **通貨への影響度**: 各指標が特定通貨に与える影響度スコア

#### 4.2 ニュース分析
- **リアルタイムニュース収集**: NewsAPI等からの自動取得
- **センチメント分析**: 自然言語処理によるポジティブ/ネガティブ判定
- **通貨関連度**: ニュースが各通貨ペアに与える影響度

### 5. リアルタイム機能

#### 5.1 データストリーミング
- **WebSocket接続**: Socket.io使用
- **自動再接続**: 接続断絶時の自動復旧
- **接続状態表示**: ユーザーへの状態通知

#### 5.2 パフォーマンス
- **描画フレームレート**: 5000本のローソク足を60fps で描画
- **メモリ効率**: 効率的なデータ管理でメモリリーク防止
- **バックグラウンド処理**: 非アクティブ時の処理最適化

## 技術要件

### フロントエンド技術スタック
- **フレームワーク**: React 18 + TypeScript + Vite
- **UIライブラリ**: Material-UI v5
- **状態管理**: Zustand
- **データフェッチング**: React Query (TanStack Query)
- **WebSocket**: Socket.io-client
- **チャートライブラリ**: Lightweight Charts (TradingView代替)
- **HTTP クライアント**: Axios

### バックエンド技術スタック

#### Node.js API サーバー
- **フレームワーク**: Express + TypeScript
- **リアルタイム通信**: Socket.io
- **ORM**: Prisma
- **キャッシュ**: Redis
- **認証**: JWT

#### Python AI分析エンジン  
- **API フレームワーク**: FastAPI
- **機械学習**: TensorFlow / PyTorch
- **データ処理**: NumPy / Pandas
- **テクニカル分析**: TA-Lib
- **機械学習補助**: scikit-learn

### 外部API連携
- **価格データ**: Alpha Vantage API
- **ニュースデータ**: NewsAPI
- **経済指標**: Economic Calendar API

### インフラ要件
- **開発環境**: Docker Compose
- **データベース**: PostgreSQL（メイン）、Redis（キャッシュ）
- **デプロイメント**: AWS / Google Cloud Platform

## 非機能要件

### パフォーマンス
- **レスポンス時間**: API応答 < 500ms
- **データ更新間隔**: リアルタイムデータ更新 < 1秒
- **同時接続数**: 1000ユーザー同時接続対応

### セキュリティ
- **認証・認可**: JWT トークンベース認証
- **データ暗号化**: HTTPS通信、機密データの暗号化
- **API レート制限**: 悪用防止のためのレート制限

### ユーザビリティ
- **レスポンシブ対応**: デスクトップ・タブレット・スマートフォン対応
- **アクセシビリティ**: WCAG 2.1 AA レベル準拠
- **多言語対応**: 日本語・英語（将来的拡張）

## 開発フェーズ

### フェーズ1: プロジェクト準備（1週間）
- プロジェクト構造作成
- 要件定義完成
- 技術スタック確定

### フェーズ2: 環境構築（1週間）
- フロントエンド環境構築
- バックエンド環境構築
- 外部API連携準備

### フェーズ3: 基礎実装（2週間）
- チャート機能実装
- AI分析エンジン基礎実装
- テクニカル指標計算

### フェーズ4: 機能開発（2週間）
- リアルタイム機能実装
- FX特化機能実装
- テスト・最適化

## 成功指標（KPI）

### 技術指標
- **チャート描画パフォーマンス**: 60fps維持率 > 95%
- **データ更新遅延**: 平均 < 500ms
- **システム稼働率**: > 99.5%

### ユーザー体験指標
- **ページ読み込み時間**: < 3秒
- **操作応答性**: < 100ms
- **エラー発生率**: < 0.1%

### AI分析精度
- **シグナル的中率**: > 60%（初期目標）
- **偽陽性率**: < 30%
- **分析結果提供時間**: < 5秒

## リスク管理

### 技術リスク
- **外部API制限**: 複数プロバイダーでのバックアップ体制
- **パフォーマンス劣化**: 定期的な最適化とモニタリング
- **セキュリティ脆弱性**: 定期的なセキュリティ監査

### ビジネスリスク
- **データの正確性**: 免責事項明記
- **法的コンプライアンス**: 金融庁ガイドライン遵守
- **ユーザーサポート**: FAQ・サポート体制構築

## 今後の拡張計画

### Phase 2（3ヶ月後）
- **バックテスト機能**: 過去データでの戦略検証
- **アラート機能**: メール・プッシュ通知
- **ポートフォリオ管理**: 複数通貨ペアの統合管理

### Phase 3（6ヶ月後）
- **自動売買機能**: API連携での自動取引
- **ソーシャル機能**: トレーダー間の情報共有
- **高度なAI機能**: GPTベースの市場解説・予測 